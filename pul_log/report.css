@font-face {
  font-family: "Pretendard-Regular";
  src: url("https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff")
    format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "HakgyoansimDunggeunmisoTTF-B";
  src: url("https://fastly.jsdelivr.net/gh/projectnoonnu/2408-5@1.0/HakgyoansimDunggeunmisoTTF-B.woff2")
    format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

:root {
  --bg: #b4d3a1;
  --panel: #cdeab7;
  --pill: #f6f4a6;
  --text: #1f5b3f;
  --muted: #1f5b3fb3;
  --green: #2b6d46;
  --green-700: #2a5b40;

  /* 메인 색상(탄/단/지) */
  --c-carb: #2c5532;
  --c-prot: #4d7c54;
  --c-fat:  #67a570;

  /* 세부 충족도 상태 색 */
  --lv-high: #2c5532;  /* 상 */
  --lv-mid:  #f0b429;  /* 중 */
  --lv-low:  #d64545;  /* 하 */

  --shadow: 0 2px 0 #2a5b4026;
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: Pretendard, "Pretendard-Regular", system-ui, -apple-system,
    "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
}

.report { min-height: 100svh; padding: clamp(14px, 4vw, 24px); }

/* 헤더 */
.header {
  display: flex;
  align-items: center;
  margin-bottom: clamp(12px, 3vh, 20px);
}
.logo {
  width: clamp(28px, 7vw, 36px);
  height: auto;
  user-select: none;
  -webkit-user-drag: none;
  margin-right: 15px;
}
.logo-link { display: inline-flex; align-items: center; }
.brand {
  margin: 0;
  font-size: clamp(18px, 6vw, 26px);
  font-weight: 600;
  color: #5a3e2b;
  font-family: "HakgyoansimDunggeunmisoTTF-B";
}

/* 카드 공통 */
.card {
  background: var(--panel);
  border-radius: 16px;
  box-shadow: var(--shadow);
  border: 1px solid #2a5b4044;
  padding: clamp(14px, 4vw, 22px);
  margin-top: clamp(12px, 3vh, 20px);
}

.section-title {
  margin: 0 0 clamp(8px, 1.2vh, 12px);
  font-size: clamp(16px, 4.6vw, 20px);
  font-weight: 900;
  color: var(--green-700);
  font-family: "HakgyoansimDunggeunmisoTTF-B";
}

/* 도넛 */
.chart-wrap { width: 100%; max-width: min(520px, 92vw); margin: clamp(6px, 1vh, 12px) auto; }
.donut-box { position: relative; }
.donut { width: 100%; height: auto; display: block; }

/* 도넛 하단 칼로리 요약 텍스트 (미니 링 대체) */
.kcals-inline {
  margin: 14px 0 0;
  text-align: center;
  font-weight: 900;
  font-size: clamp(18px, 5.2vw, 22px);
  color: var(--green-700);
}
.kcals-inline #kcalInlineGoal {
  color: var(--muted);
  font-weight: 700;
}

/* 세부 충족도 */
.micro-grid {
  list-style: none;
  margin: 10px 0 4px;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
}
@media (max-width: 640px) {
  .micro-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
.micro-item { display: flex; flex-direction: column; align-items: center; gap: 6px; }
.state-dot {
  width: 58px; height: 58px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-weight: 900; color: #fff;
  border: 2px solid #1f382b33;
}
.state-high { background: var(--lv-high); }
.state-mid  { background: var(--lv-mid); color: #3b2a00; }
.state-low  { background: var(--lv-low); }
.micro-label { font-size: 13px; font-weight: 800; color: var(--green-700); text-align: center; }
.legend { margin: 6px 0 0; color: var(--muted); font-size: 12px; }

/* 추천 말풍선 */
.rec { position: relative; overflow: hidden; }
.bubble {
  display: inline-block;
  background: var(--pill);
  border: 2px solid var(--green);
  color: var(--green-700);
  font-weight: 900;
  border-radius: 999px;
  padding: 14px 18px;
  max-width: 680px;
  margin: 0;
  font-family: "HakgyoansimDunggeunmisoTTF-B";
}
